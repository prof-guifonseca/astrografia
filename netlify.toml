# netlify.toml ‚Äî Astrografia üåå (2025-04-30)
# ------------------------------------------
# Configura√ß√£o de build, API e fun√ß√µes serverless

[build]
  # Diret√≥rio onde est√£o os arquivos do site est√°tico (index.html, assets etc.)
  publish   = "src"

  # Diret√≥rio onde est√£o suas fun√ß√µes serverless (como generateMap.js)
  functions = "netlify/functions"

[functions]
  # Usa esbuild como empacotador (moderno, r√°pido, suporta import/export e require)
  node_bundler = "esbuild"

  # Garante que arquivos auxiliares usados por fun√ß√µes (como /utils) sejam inclu√≠dos no build
  included_files = [
    "utils/**",             # Inclui arquivos utilit√°rios compartilhados
    "netlify/functions/**"  # Inclui depend√™ncias entre fun√ß√µes (caso uma use a outra)
  ]

[[redirects]]
  # Redireciona todas as chamadas para /api/* para /.netlify/functions/*
  # Ex: /api/generateMap ‚Üí /.netlify/functions/generateMap
  from = "/api/*"
  to   = "/.netlify/functions/:splat"
  status = 200
  force  = true
